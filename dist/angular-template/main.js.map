{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/auth-guard.service.ts","webpack:///./src/app/familySearchX/FHTLX.ts","webpack:///./src/app/familySearchX/FamilySearchX.ts","webpack:///./src/app/familySearchX/docCookies.ts","webpack:///./src/app/footer/footer.component.css","webpack:///./src/app/footer/footer.component.html","webpack:///./src/app/footer/footer.component.ts","webpack:///./src/app/fs.service.ts","webpack:///./src/app/help/help.component.css","webpack:///./src/app/help/help.component.html","webpack:///./src/app/help/help.component.ts","webpack:///./src/app/home/home.component.css","webpack:///./src/app/home/home.component.html","webpack:///./src/app/home/home.component.ts","webpack:///./src/app/link.service.ts","webpack:///./src/app/loader/loader.component.css","webpack:///./src/app/loader/loader.component.html","webpack:///./src/app/loader/loader.component.ts","webpack:///./src/app/logout/logout.component.css","webpack:///./src/app/logout/logout.component.html","webpack:///./src/app/logout/logout.component.ts","webpack:///./src/app/material.module.ts","webpack:///./src/app/session-expired/session-expired.component.css","webpack:///./src/app/session-expired/session-expired.component.html","webpack:///./src/app/session-expired/session-expired.component.ts","webpack:///./src/app/start/start.component.css","webpack:///./src/app/start/start.component.html","webpack:///./src/app/start/start.component.ts","webpack:///./src/app/utils.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { HelpComponent} from './help/help.component';\nimport { StartComponent} from './start/start.component';\nimport { AppComponent } from './app.component';\nimport { AuthGuardService } from './auth-guard.service';\nimport { SessionExpiredComponent } from './session-expired/session-expired.component';\nimport { HomeComponent } from './home/home.component';\nimport { LogoutComponent } from './logout/logout.component';\n\n\nconst routes: Routes = [\n  { path: '', redirectTo: '/start', pathMatch: 'full' },\n  { path: 'start', component: StartComponent },\n  { path: 'help', component: HelpComponent },\n  { path: 'logout', component: LogoutComponent },\n  { path: 'home', component: HomeComponent, canActivate: [AuthGuardService] },\n  { path: 'expired', component: SessionExpiredComponent, canActivate: [AuthGuardService] }\n];\n\n@NgModule({\n  imports: [ RouterModule.forRoot(routes) ],\n  exports: [ RouterModule ]\n})\nexport class AppRoutingModule {}\n","module.exports = \".header-icon {\\n  vertical-align: text-bottom !important;\\n}\\n\\n.home-button {\\n    font-size: 20px;\\n}\\n\\n.header-spacer {\\n  flex: 1 1 auto;\\n}\\n\\n.menu-compact {\\n    display: none;\\n}\\n\\n.menu-compact-button {\\n    display: block;\\n    width: 100%;\\n}\\n\\n@media screen and (max-width: 600px) {\\n    .menu-standard {\\n        display: none;\\n    }\\n    .menu-compact {\\n        display: inline;\\n    }\\n}\"","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<!--<div style=\\\"text-align:center\\\">\\n  <h1>\\n    Welcome to {{ title }}!\\n  </h1>\\n  <img width=\\\"300\\\" alt=\\\"Angular Logo\\\" src=\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\\\">\\n</div>\\n<h2>Here are some links to help you start: </h2>\\n<ul>\\n  <li>\\n    <h2><a target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"https://angular.io/tutorial\\\">Tour of Heroes</a></h2>\\n  </li>\\n  <li>\\n    <h2><a target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"https://github.com/angular/angular-cli/wiki\\\">CLI Documentation</a></h2>\\n  </li>\\n  <li>\\n    <h2><a target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"https://blog.angular.io/\\\">Angular blog</a></h2>\\n  </li>\\n</ul>-->\\n\\n<mat-toolbar color=\\\"primary\\\">\\n  <mat-toolbar-row>\\n    <button mat-button class=\\\"home-button\\\" (click)=\\\"goHome()\\\"><mat-icon class=\\\"header-icon\\\">favorite</mat-icon> {{link.APP_NAME}}</button>\\n\\n    <span class=\\\"header-spacer\\\"></span>\\n    \\n    <span class=\\\"menu-standard\\\">\\n\\t    <button mat-button (click)=\\\"goToRoute(option.href)\\\" *ngFor=\\\"let option of link.mainMenu\\\">{{option.name}}</button>\\n\\t  </span>\\n\\n\\t  <span class=\\\"menu-compact\\\">\\n      <mat-menu #appMenu=\\\"matMenu\\\">\\n        <button mat-button routerLink=\\\"/{{option.href}}\\\" *ngFor=\\\"let option of link.mainMenu\\\" class=\\\"menu-compact-button\\\">{{option.name}}</button>\\n      </mat-menu>\\n      \\n      <button mat-icon-button [matMenuTriggerFor]=\\\"appMenu\\\">\\n        <mat-icon>more_vert</mat-icon>\\n      </button>\\n\\t  </span>\\n  </mat-toolbar-row>\\n</mat-toolbar>\\n\\n\\n<router-outlet></router-outlet>\\n\\n<app-footer></app-footer>\\n\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LinkService } from './link.service';\nimport { FsService } from './fs.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  public title: string;\n\n  constructor(private fsService: FsService, private router: Router, public link: LinkService) {\n    this.title = link.APP_NAME; //Set the title for the page\n  }\n\n  //Add more routes here as needed for the main menu\n  \n\n  ngOnInit() {\n    let loggedIn = this.fsService.checkLoginStatus();\n\n    if (loggedIn) {\n      this.goHome();\n    }\n  }\n\n  goHome() {\n    this.router.navigate([this.link.getHome()]);\n  }\n\n  goToRoute(link: string) {\n    if (link.includes('http')) {\n      window.open(link, '_blank');\n    } else if (link === 'home') {\n      this.goHome();\n    } else {\n      this.router.navigate([link]);\n    }\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {MaterialModule} from './material.module';\n\nimport { AppComponent } from './app.component';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { environment } from '../environments/environment';\nimport { AppRoutingModule } from './/app-routing.module';\nimport { HelpComponent } from './help/help.component';\nimport { StartComponent } from './start/start.component';\nimport { LoaderComponent } from './loader/loader.component';\nimport { LinkService } from './link.service';\nimport { SessionExpiredComponent } from './session-expired/session-expired.component';\nimport { FooterComponent } from './footer/footer.component';\nimport { HomeComponent } from './home/home.component';\nimport { FsService } from './fs.service';\nimport { LogoutComponent } from './logout/logout.component';\n\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HelpComponent,\n    StartComponent,\n    LoaderComponent,\n    SessionExpiredComponent,\n    FooterComponent,\n    HomeComponent,\n    LogoutComponent\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    MaterialModule,\n    ServiceWorkerModule.register('/ngsw-worker.js', { enabled: environment.production }),\n    AppRoutingModule,\n\t\tFormsModule\n  ],\n  entryComponents: [\n    LoaderComponent\n  ],\n  providers: [LinkService, FsService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRoute, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { FsService } from './fs.service';\nimport { Location } from '@angular/common';\nimport { LinkService } from './link.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuardService implements CanActivate {\n\n  constructor(private location: Location, private fsService: FsService, private router: Router, private link: LinkService) {\n\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    //console.log(route.queryParamMap);\n    \n    if (route.queryParamMap.has('fstoken')) {\n      this.fsService.logIn(route.queryParamMap.get('fstoken'));\n      this.router.navigate([route.url[0].path]);\n      return false;\n    } else if (this.fsService.isAuthenticated()) {\n      return true;\n    } else {\n      this.router.navigate(['expired']);\n      return false;\n    }\n  \n  }\n}\n","import { docCookies } from './docCookies';\nimport { FamilySearch, FamilySearchX, FSInitOptions } from './FamilySearchX';\n\nexport interface FsSession {\n    admin: boolean;\n    exp: number;\n    fs_access_token: string;\n    fs_user: {\n        displayName: string;\n        email: string;\n        pid: string;\n    }\n    iat: number\n}\n\nexport class FHTLX extends FamilySearchX{\n\n    private saveAccessToken: boolean;\n    private accessToken: string;\n    private tokenCookie: string;\n    private tokenCookiePath: string;\n\n    readonly PARENT_DOMAIN: string = '';//\".fhtl.byu.edu\";\n\n\n    public static authServiceRedirect(redirectUri: string): void{\n        FamilySearchX.uploadConfig(redirectUri, (options: FSInitOptions) => {\n            let request = new XMLHttpRequest();\n            let uri = \"https://auth.fhtl.byu.edu/?redirect=\" + options.redirectUri;\n            request.open(\"GET\", uri);\n            request.send();\n        }, (error: any) => {\n\n        })\n    }\n\n    public static finishAuthService(configLocation: string, callback: (fhtlx: FHTLX) => void, failureUri?: string): void{\n        let accessToken: string = null;\n\n        if(accessToken = localStorage.getItem(\"fs_access_token\")){\n            // accessToken = window.location.href.split(\"fstoken=\")[1];\n            // console.log(\"Access Token:\", accessToken);\n        }\n\n        FamilySearchX.uploadConfig(configLocation, (initOptions) => {\n\n            let fhtlx = new FHTLX(initOptions);\n\n            // If we already have the token, set it in the cookie.\n            if(accessToken){\n                fhtlx.setAccessToken(accessToken);\n            }\n            \n\n            let verifyToken = (error: any, response: any) => {\n                if(!!error){\n                    console.error(\"Could not obtain auth token.\");\n                }\n                else{\n                    callback(fhtlx);\n                }\n            };\n            if(fhtlx.getAccessToken()){\n                callback(fhtlx);\n            }\n            else if(!fhtlx.oauthResponse(verifyToken) && failureUri){\n                (window as any).location = failureUri;\n            }\n\n        }, (error: any) => {\n            console.error(\"err:\", error);\n            // window.location = 'login';\n            if(failureUri){\n                (window as any).location = failureUri;\n            }\n        });\n    }\n\n    public setAccessToken(accessToken: string): FamilySearch {\n        this.accessToken = accessToken;\n        if(this.saveAccessToken){\n            // Expire in 24 hours because tokens never last longer than that, though\n            // they can expire before that after 1 hour of inactivity.\n            docCookies.setItem(this.tokenCookie, accessToken, 86400, this.tokenCookiePath, this.PARENT_DOMAIN);\n        }\n        return this;\n    }\n\n    public assignAccessToken(accessToken: string): void {\n        this.accessToken = accessToken;\n    }\n\n    public storeSession(fsSession: FsSession) {\n        this.setAccessToken(fsSession.fs_access_token);\n        docCookies.setItem('FS_SESSION', JSON.stringify(fsSession), 86400, this.tokenCookiePath, this.PARENT_DOMAIN);\n    }\n\n    public readyAccessToken(fsSession: FsSession): void {\n        this.accessToken = fsSession.fs_access_token;\n        this.userPID = fsSession.fs_user.pid;\n    }\n\n    public deleteSession(): void {\n        this.deleteAccessToken();\n        docCookies.removeItem('FS_SESSION', this.tokenCookiePath, this.PARENT_DOMAIN);\n    }\n\n    public static checkAccessToken(): FsSession {\n        let sessionStr = docCookies.getItem('FS_SESSION');\n        if (!!sessionStr) {\n            try {\n                let fsSession: FsSession = JSON.parse(sessionStr);\n                return fsSession;\n            } catch (err) {\n                return undefined;\n            }\n        } else {\n            return undefined;\n        }\n    }\n\n}","\n/*======================================================================================================\n[][][][]/\n[][][][]    Licensure\n[][][][]\\\n\nAlthough this SDK does not directly include any code from the \"Lite JS SDK for the FamilySearch API\"\ngithub project (https://github.com/FamilySearch/fs-js-lite), it is designed to be compatible therewith.\nAs such, we will post their MIT licensure statement here, noting that the code in this project is\nthe exclusive property of Brigam Young University, and was developed by student researchers in the\nBYU Family History Technology Lab as an extension to the aformentioned project.\n\nLite JS SDK for the FamilySearch API License:\n--------------------------------------------------------------------------------\nMIT License\n\nCopyright (c) 2016 York Solutions\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n--------------------------------------------------------------------------------\n\n\n======================================================================================================*/\n\n/*=============================================================================================\n[][][][]/\n[][][][]    FamilySearch Definitions\n[][][][]\\\n=============================================================================================*/\n// #region FS Definitions\n\n\ntype FSHeaders = {[k:string]: string |  number};\ntype HTTPMethod = \"GET\" | \"PUT\" | \"POST\" | \"DELETE\";\ntype Handler = (error: any, response: any) => void;\ntype Callback = () => void;\ntype FSEnvironment = \"production\" | \"beta\" | \"integration\";\ntype PID = string;\n\nclass FSLink{\n    href: string;\n    offset?: number;\n    template?: string;\n    title?: string;\n    type?: string;\n    accept?: string;\n    allow?: string;\n    hreflang?: string;\n}\n\nclass FSResourceReference{\n    resourceId: string;\n    resource: string;\n}\n\nclass FSExtensibleData{\n    id: string;\n}\n\nclass FSHypermediaEnabledData extends FSExtensibleData{\n    links: {[k:string]: FSLink} = {};\n}\n\nclass FSFamilyView extends FSHypermediaEnabledData{\n    parent1: FSResourceReference;\n    parent2: FSResourceReference;\n    children?: FSResourceReference[] = [];\n}\n\nclass FSAttribution extends FSExtensibleData{\n    contributor: FSResourceReference;\n    modified: number;\n    changeMessage: string;\n    creator: FSResourceReference;\n    created: number;\n}\n\nclass FSQualifier{\n    name: string;\n    value: string;\n}\n\nclass FSSourceReference extends FSHypermediaEnabledData{\n    attribution: FSAttribution;\n    description: string;\n    descriptionID: string;\n    qualifiers: FSQualifier[] = [];\n}\n\nclass FSNote extends FSHypermediaEnabledData{\n    lang: string;\n    subject: string;\n    text: string;\n    attribution: FSAttribution;\n}\n\nclass FSConclusion extends FSHypermediaEnabledData{\n    sortKey: string;\n    attribution: FSAttribution;\n    sources: FSSourceReference[];\n    analysis: FSResourceReference;\n    notes: FSNote[] = [];\n}\n\nclass FSGender extends FSConclusion{\n    type: string;\n}\n\nclass FSTextValue{\n    lang: string;\n    value: string;\n}\n\nclass FSDate extends FSExtensibleData{\n    normalized: FSTextValue[] = [];\n    original: string;\n    formal: string;\n}\n\nclass FSNamePart extends FSExtensibleData{\n    type: string;\n    value: string;\n    qualifiers: FSQualifier[] = [];\n}\n\nclass FSNameForm extends FSExtensibleData{\n    lang: string;\n    fullText: string;\n    parts: FSNamePart[] = [];\n}\n\nclass FSName extends FSConclusion{\n    type: string;\n    preferred: boolean;\n    date: FSDate;\n    nameForms: FSNameForm[] = [];\n}\n\nclass FSPlaceReference extends FSExtensibleData{\n    normalized: FSTextValue[] = [];\n    original: string;\n}\n\nclass FSFact extends FSConclusion{\n    type: string;\n    date: FSDate;\n    place: FSPlaceReference;\n    value: string;\n    qualifiers: FSQualifier[] = [];\n}\n\nclass FSDisplayProperties extends FSExtensibleData{\n    name: string;\n    gender: string;\n    lifespan: string;\n    birthDate: string;\n    birthPlace: string;\n    deathDate: string;\n    deathPlace: string;\n    marriageDate: string;\n    marriagePlace: string;\n    ascendancyNumber: string;\n    descendancyNumber: string;\n    familiesAsParent: FSFamilyView[] = [];\n    familiesAsChild: FSFamilyView[] = [];\n}\n\nclass FSEvidenceReference extends FSHypermediaEnabledData{\n    resourceId: string;\n    resource: string;\n    attribution: FSAttribution;\n}\n\nclass FSSubject extends FSConclusion{\n    extracted: boolean;\n    evidence: FSEvidenceReference[] = [];\n    media: FSSourceReference[] = [];\n    identifiers: {[k:string]: string} = {};\n}\n\nclass FSPerson extends FSSubject{\n    display: FSDisplayProperties;\n    private: boolean;\n    living: boolean;\n    gender: FSGender;\n    names: FSName[] = [];\n    facts: FSFact[] = [];\n}\n\nclass FSRelationship extends FSSubject{\n    type: string;\n    person1: FSResourceReference;\n    person2: FSResourceReference;\n    facts: FSFact[] = [];\n}\n\nclass FSChildAndParentRelationship extends FSSubject{\n    father: FSResourceReference;\n    mother: FSResourceReference;\n    child: FSResourceReference\n    fatherFacts: FSFact[] = [];\n    motherFacts: FSFact[] = [];\n}\n\nclass FSUser extends FSExtensibleData{\n    contactName: string;\n    helperAccessPin: string;\n    fullName?: string;\n    givenName: string;\n    familyName: string;\n    email: string;\n    alternateEmail: string;\n    country: string;\n    gender: \"MALE\" | \"FEMALE\" | \"UNKNOWN\";\n    birthDate: string;\n    phoneNumber?: string;\n    mobilePhoneNumber?: string;\n    mailingAddress?: string\n    perferredLanguage?: string;\n    displayName: string;\n    personId: PID;\n    treeUserId: string;\n    links: {[k:string]: FSLink} = {};\n}\n\ntype FSRequestOpt = {\n    method?: HTTPMethod,\n    headers?: FSHeaders,\n    body?: string | object,\n}\n\ntype FSResponse = {\n    statusCode: number,\n    statusText: string,\n    headers: FSHeaders,\n    body: string,\n    data?: any,\n    originalUrl: string,\n    effectiveUrl: string,\n    requestMethod: string,\n    requestHeaders: FSHeaders,\n    redirected: boolean,\n    throttled: boolean,\n    retries: number,\n}\n\nexport type FSInitOptions = {\n    environment: FSEnvironment,\n    appKey: string,\n    redirectUri: string,\n    accessToken?: string,\n    saveAccessToken?: boolean,\n    tokenCookie?: string,\n    tokenCookiePath?: string,\n    maxThrottledRetries?: number,\n    pendingModifications?: string[],\n    requestInterval?: number,\n}\n\nexport declare class FamilySearch{\n    constructor(initOptions?: FSInitOptions);\n    config(initOptions?: FSInitOptions): void;\n\n    /*\n     * REQUEST METHODS\n     */\n    get(url: string, handler: Handler): void;\n    post(url: string, options: FSRequestOpt, handler: Handler): void;\n    head(url: string, handler: Handler): void;\n    delete(url: string, handler: Handler): void;\n    get(url: string, options: FSRequestOpt, handler: Handler): void;\n    request(url: string, options: FSRequestOpt, handler: Handler): void;\n    request(url: string, handler: Handler): void;\n\n    /*\n     * AUTHENTICATION\n     */\n    oauthRedirectURL(state?: any): void;\n    oauthRedirect(state?: any): void;\n    oauthToken(code: any, callback: Handler): void;\n    oauthUnauthenticatedToken(ipAddress: string, callback: Handler): void;\n    oauthResponse(callback: Handler): void;\n    oauthResponse(state: any[], callback: Handler): void;\n    oauthPassword(username: string, password: string, callback: Handler): void;\n    setAccessToken(accessToken: string): void;\n    getAccessToken(): void;\n    deleteAccessToken(): void;\n\n    /*\n     * MIDDLEWARE\n     */\n    addRequestMiddleware(middleware: (client: any, request: object, next: Function) => void): void;\n    addRequestMiddleware(middleware: (client: any, request: object, response: object, next: Function) => void): void;\n}\n\n// #endregion\n\n\n/*=============================================================================================\n[][][][]/\n[][][][]    FamilySearchX Definition\n[][][][]\\\n=============================================================================================*/\n// #region FSX Definition\nexport class FamilySearchX extends FamilySearch{\n\n    /*=============================================================================================\n    [][][][]/\n    [][][][]    Init & Utils\n    [][][][]\\\n    =============================================================================================*/\n    // #region Init and Utils\n\n    /**\n     * This method is designed principally as a means of loading up a configuration file.\n     * @param uri \n     * @param handler \n     */\n    public static uploadConfig(uri: string, handler: (options: FSInitOptions) => void, errorHandler: Function){\n\n        let request = new XMLHttpRequest();\n        request.addEventListener(\"load\", function(){\n            let data = this.response;\n            if(data instanceof String){\n                handler(JSON.parse(data as string));\n            }\n            else{\n                handler(data);\n            }\n        });\n        request.addEventListener(\"error\", function(){\n            errorHandler(this.response);\n        });\n        request.open(\"GET\", uri);\n        request.responseType = \"json\";\n        request.send();\n    }\n\n    public userPID: string;\n\n    constructor(options: FSInitOptions){\n        super(options);\n        this.userPID = \"\";\n    }\n\n    public logout(handler: Handler){\n        this.post(\"/platform/logout\", {}, (error: any, response: FSResponse) => {\n            console.log(\"%c User has been logged out\", \"color: #ffdd00\");\n            handler && handler(error, response);\n        });\n    }\n\n    public isPID(field: PID | string): field is PID{\n        return !!(/[a-zA-Z0-9]{4}-[a-zA-Z0-9]{3}/g).exec(field);\n    }\n\n    // #endregion\n\n    /*=============================================================================================\n    [][][][]/\n    [][][][]    User API\n    [][][][]\\\n    =============================================================================================*/\n    // #region User API\n\n    /**\n     * Gets the current user person\n     * @param handler \n     */\n    public getCurrentTreePerson(handler: Handler): void{\n        this.get('/platform/tree/current-person', handler);\n    }\n\n    /**\n     * Gets the information for the current user.\n     * @param handler \n     */\n    public getCurrentUser(handler: (error: any, user: FSUser) => void): void{\n        this.get('/platform/users/current', (error, response) => {\n            try{\n                if(!error){\n                    let res: {users: FSUser[]} = (JSON.parse(response.body));\n                    let user = res.users[0];\n                    this.userPID = user.personId;\n                    handler(error, user);\n                }\n            }\n            catch(e){\n                handler({apiError: error, parsingError:e}, null);\n            }\n\n        });\n    }\n\n    /**\n     * Gets a FamilySearch person information for a user.\n     * @param user \n     * @param handler \n     */\n    public getPersonFromUser(user: FSUser, handler: Handler): void{\n        if(!!user.links && !!user.links.person){\n            this.get(user.links.person.href, handler);\n        }\n        else{\n            this.get(\"/platform/tree/persons/\" + user.personId, handler);\n        }\n    }\n\n    /**\n     * Gets the user's ancestry and returns the RAW results.\n     * @param handler \n     * @param generations \n     * @param spouse \n     * @param marriageDetails \n     * @param descendants \n     * @param personDetails \n     */\n    public getUserWithAncestry(handler: Handler, generations: number = 8, spouse: string = \"\", marriageDetails: boolean, descendants: boolean, personDetails: boolean): void{\n        if(!this.userPID){\n            this.getCurrentUser((error: any, user:FSUser) => {\n                this.getUserWithAncestry(handler, generations, spouse, marriageDetails, descendants, personDetails);\n            });\n            return;\n        }\n        else{\n            this.getPersonWithAncestry(this.userPID, handler, generations, spouse, marriageDetails, descendants, personDetails);\n        }\n    }\n\n    /**\n     * Gets the user's descendancy and returns the RAW results.\n     * @param handler \n     * @param generations \n     * @param spouse \n     * @param marriageDetails\n     * @param personDetails \n     */\n    public getUserWithDescendancy(handler: Handler, generations: number = 2, spouse: string = \"\", marriageDetails: boolean, personDetails: boolean): void{\n        if(!this.userPID){\n            this.getCurrentUser((error: any, user:FSUser) => {\n                this.getUserWithDescendancy(handler, generations, spouse, marriageDetails, personDetails);\n            });\n            return;\n        }\n        else{\n            this.getPersonWithDescendancy(this.userPID, handler, generations, spouse, marriageDetails, personDetails);\n        }\n    }\n\n    // #endregion\n\n    /*=============================================================================================\n    [][][][]/\n    [][][][]    Person API\n    [][][][]\\\n    =============================================================================================*/\n    // #region Person API\n\n    /**\n     * Get a particular person's data from the family tree\n     * @param pid \n     * @param handler \n     * @param relatives (Optional) boolean whether or not relatives should be included with the results. Defaults to false\n     * @param sourceDescriptions (Optional) boolean whether or not sourceDescriptions should be included with the results. Defaults to false\n     */\n    public getPerson(pid: PID, handler: Handler, relatives: boolean = false, sourceDescriptions: boolean = false): void{\n        let uri: string = '/platform/tree/persons/' + pid;\n        let params: string[] = [];\n        if(relatives){\n            params.push(\"relatives=true\");\n        }\n        if(sourceDescriptions){\n            params.push(\"sourceDescriptions=true\");\n        }\n        if(params.length){\n            uri += \"?\" + params.join(\"&\");\n        }\n        this.get(uri, handler);\n    }\n\n    /**\n     * Get the data for a collection of people.\n     * @param pids \n     * @param handler \n     */\n    public getPersons(pids: PID[], handler: Handler): void{\n        const limit: number = 500;\n        \n        // Handle inproperly sized requests.\n        if(pids.length > limit){\n            console.error(\"getPersons() called to FS with\", pids.length, \"ids. The limit is\", limit, \".\");\n            pids = pids.slice(0,limit);\n        }\n\n        const list: string = pids.reduce((curr: string, pid: PID) => \n            curr += (pid + \",\")\n        , \"\").substr(0, -1);\n\n        // Final API call\n        this.get('/platform/tree/persons?pids=' + list, handler)\n    }\n\n    /**\n     * Gets a person with their ancestry and returns the RAW results.\n     * @param pid \n     * @param handler \n     * @param generations \n     * @param spouse \n     * @param marriageDetails \n     * @param descendants \n     * @param personDetails \n     */\n    public getPersonWithAncestry(pid: PID, handler: Handler, generations: number = 2, spouse: string = \"\", marriageDetails: boolean, descendants: boolean, personDetails: boolean): void{\n        const maxGenerations: number = 8;\n        \n        const baseUri = \"/platform/tree/ancestry?person=\" + pid;\n        \n        let uri = baseUri;\n\n        if(generations > 0){\n            if(generations > maxGenerations){\n                console.error(\"getPersonWithDescendancy() requested\", generations, \"generations. The limit is\", maxGenerations, \".\");\n                generations = maxGenerations;\n            }\n            uri += \"&generations=\" + generations;\n        }\n\n        if(spouse != \"\"){\n            uri += \"&spouse=\" + spouse;\n        }\n\n        if(marriageDetails){\n            uri += \"&marriageDetails=true\";\n        }\n\n        if(personDetails){\n            uri += \"&personDetails=true\";\n        }\n\n        if(descendants){\n            uri += \"&descendants=true\";\n        }\n\n        this.get(uri, handler);\n    }\n\n    /**\n     * Gets a person with their descendancy and returns the RAW results.\n     * @param pid \n     * @param handler \n     * @param generations \n     * @param spouse \n     * @param marriageDetails \n     * @param personDetails \n     */\n    public getPersonWithDescendancy(pid: PID, handler: Handler, generations: number = 2, spouse: string = \"\", marriageDetails: boolean, personDetails: boolean): void{\n        const maxGenerations: number = 2;\n        \n        const baseUri = \"/platform/tree/descendancy?person=\" + pid;\n        \n        let uri = baseUri;\n\n        if(generations > 0){\n            if(generations > maxGenerations){\n                console.error(\"getPersonWithDescendancy() requested\", generations, \"generations. The limit is\", maxGenerations, \".\");\n                generations = maxGenerations;\n            }\n            uri += \"&generations=\" + generations;\n        }\n\n        if(spouse != \"\"){\n            uri += \"&spouse=\" + spouse;\n        }\n\n        if(marriageDetails){\n            uri += \"&marriageDetails=true\";\n        }\n\n        if(personDetails){\n            uri += \"&personDetails=true\";\n        }\n\n        this.get(uri, handler);\n    }\n\n    /**\n     * Gets a person with their ancestry and returns the processed results.\n     * @param pid \n     * @param handler \n     * @param generations \n     * @param spouse \n     * @param marriageDetails \n     * @param personDetails \n     */\n    public getPersonAncestry(pid: PID, handler: (error: any, data: FSPerson[]) => void, generations: number): void{\n        let desc = new FSXAncestryBuilder(this, pid, generations);\n        // console.log(\"Running ancestry!\");\n        desc.run().then((res) => {\n            // console.log(\"Ancestry Data:\", res);\n            handler(null, res.people);\n        }, (rej) => {\n            console.log(\"Ancestry Failed:\", rej);\n            handler(rej, []);\n        })\n    }\n\n    /**\n     * Gets a person with their descendancy and returns the processed results.\n     * @param pid \n     * @param handler \n     * @param generations \n     * @param spouse \n     * @param marriageDetails \n     * @param personDetails \n     */\n    public getPersonDescendancy(pid: PID, handler: (error: any, data: FSPerson[]) => void, generations: number): void{\n        let desc = new FSXDescendancyBuilder(this, pid, generations);\n        // console.log(\"Running descendancy!\");\n        desc.run().then((res) => {\n            // console.log(\"Descendancy Data:\", res);\n            handler(null, res.people);\n        }, (rej) => {\n            console.log(\"Descendancy Failed:\", rej);\n            handler(rej, []);\n        })\n    }\n\n    /**\n     * Gets a person's parents.\n     * @param pid \n     * @param handler \n     */\n    public getPersonWithParents(pid: PID, handler: Handler): void{\n        this.get(\"/platform/tree/persons/\" + pid + \"/parents\", handler);\n    }\n\n    /**\n     * Gets a person's spouses.\n     * @param pid \n     * @param handler \n     */\n    public getPersonWithSpouses(pid: PID, handler: Handler): void{\n        this.get(\"/platform/tree/persons/\" + pid + \"/spouses\", handler);\n    }\n\n    /**\n     * Gets a person's children.\n     * @param pid \n     * @param handler \n     */\n    public getPersonWithChildren(pid: PID, handler: Handler): void{\n        this.get(\"/platform/tree/persons/\" + pid + \"/children\", handler);\n    }\n\n    /**\n     * Gets a person's families.\n     * @param pid \n     * @param handler \n     */\n    public getPersonWithFamilies(pid: PID, handler: Handler, sourceDescriptions: boolean): void{\n        let uri: string = \"/platform/tree/persons/\" + pid + \"/families\";\n        if(sourceDescriptions){\n            uri += \"?sourceDescriptions=true\";\n        }\n        this.get(uri, handler);\n    }\n\n    // #endregion\n\n    /*=============================================================================================\n    [][][][]/\n    [][][][]    Memories and Sources\n    [][][][]\\\n    =============================================================================================*/\n    // #region Memories and Sources\n\n    /**\n     * Retrieves the description for a portrait picture attached as the primary portrait for an individual.\n     * @param pid \n     * @param handler \n     * @param defaultUri An unencoded URI for a default image if no portrait is found.\n     */\n    public getPersonPortrait(pid: PID, handler: Handler, defaultUri?: string): void{\n        let uri = \"/platform/tree/persons/\" + pid + \"/portrait\";\n        if(defaultUri){\n            uri += \"?default=\" + encodeURIComponent(defaultUri);\n        }\n        this.get(uri, handler);\n    }\n\n    /**\n     * Retrieves descriptions for all of the portrait pictures available for an individual.\n     * @param pid \n     * @param handler \n     */\n    public getPersonPortraits(pid: PID, handler: Handler): void{\n        this.get(\"/platform/tree/persons/\" + pid + \"/portraits\", handler);\n    }\n\n    /**\n     * Retrieves descriptions for all of the memories available for an individual.\n     * @param pid \n     * @param handler \n     * @param count <optional> The number of stories to request\n     * @param startIndex <optional> The start index for the returned stories\n     * @param filter <optional> If there is a particular type of resource desired, a filter may be used. Either \"Photo\", \"Document\", or \"Story\".\n     */\n    protected getPersonMemories(pid: PID, handler: Handler, count?: number, startIndex?: number, filter?: string): void{\n        let url = \"/platform/tree/persons/\" + pid + \"/memories\";\n        let params = [];\n        if(count > 0){\n            params.push(\"count=\" + count);\n        }\n        if(startIndex > 0){\n            params.push(\"start=\" + startIndex);\n        }\n        if(filter && (filter === \"Photo\" || filter === \"Document\" || filter === \"Story\")){\n            params.push(\"type=\" + filter);\n        }\n        if(params.length){\n            url += \"?\" + params.join(\"&\");\n        }\n        this.get(\"/platform/tree/persons/\" + pid + \"/memories\", handler);\n    }\n\n    /**\n     * Retrieves descriptions for all of the story memories available for an individual.\n     * @param pid \n     * @param handler \n     * @param count <optional> The number of stories to request. If blank or negative, requests them all.\n     * @param startIndex <optional> The start index for the returned stories If blank or negative, defaults to 0.\n     */\n    public getPersonStoryMemories(pid: PID, handler: Handler, count?: number, startIndex?: number): void{\n        this.getPersonMemories(pid, handler, count, startIndex, \"Story\");\n    }\n\n    /**\n     * Retrieves descriptions for all of the document memories available for an individual.\n     * @param pid \n     * @param handler \n     * @param count <optional> The number of documents to request\n     * @param startIndex <optional> The start index for the returned documents\n     */\n    public getPersonDocumentMemories(pid: PID, handler: Handler, count?: number, startIndex?: number): void{\n        this.getPersonMemories(pid, handler, count, startIndex, \"Document\");\n    }\n\n    /**\n     * Retrieves descriptions for all of the photo memories available for an individual.\n     * @param pid \n     * @param handler \n     * @param count <optional> The number of documents to request\n     * @param startIndex <optional> The start index for the returned documents\n     */\n    public getPersonPhotoMemories(pid: PID, handler: Handler, count?: number, startIndex?: number): void{\n        this.getPersonMemories(pid, handler, count, startIndex, \"Photo\");\n    }\n\n    /**\n     * Retrieves descriptions for all of the memories available for an individual.\n     * @param pid \n     * @param handler \n     * @param count <optional> The number of photos to request\n     * @param startIndex <optional> The start index for the returned photos\n     */\n    public getAllPersonMemories(pid: PID, handler: Handler, count?: number, startIndex?: number): void{\n        this.getPersonMemories(pid, handler, count, startIndex);\n    }\n\n    /**\n     * Provides a list of all sources attached to a person.\n     * @param pid \n     * @param handler \n     */\n    public getPersonSources(pid: PID, handler: Handler): void{\n        this.get(\"/platform/tree/persons/\" + pid + \"/sources\", handler);\n    }\n\n    // #endregion\n    \n    /*=============================================================================================\n    [][][][]/\n    [][][][]    Matches & Duplicates\n    [][][][]\\\n    =============================================================================================*/\n    // #region Matches\n\n    public getPersonDuplicateMatches(pid: PID, handler: Handler, includeNotAMatchDeclarations?: boolean){\n        let uri = \"/platform/tree/persons/\" + pid + \"/matches\";\n        if(includeNotAMatchDeclarations){\n            uri += \"?includeNotAMatchDeclarations=true\"\n        }\n        this.get(uri, {headers:{\"Accept\":\"application/x-gedcomx-atom+json\"}}, handler);\n    }\n\n    public getPersonRecordMatches(pid: PID, handler: Handler, status: \"pending\" | \"accepted\" | \"rejected\" = \"pending\", count: number = 5, confidence: number = -1){\n        \n        let uri = \"/platform/tree/persons/\" + pid + \"/matches\";\n        let params:string[] = [\n            \"status=\" + status,\n            \"collection=\" + encodeURIComponent(\"records\"),\n            \"count=\" + count\n        ];\n        if(confidence > -1){\n            confidence = Math.min(confidence, 5); // The max cap on this is 5.\n            params.push(\"confidence=\" + confidence);\n        }\n\n        // Meld all of the query parameters onto the uri\n        if(params.length){\n            uri += \"?\" +  params.join(\"&\");\n        }\n        \n        this.get(uri, {headers:{\"Accept\":\"application/x-gedcomx-atom+json\"}}, handler);\n    }\n\n    // #endregion\n\n    /*=============================================================================================\n    [][][][]/\n    [][][][]    Redirect To FamilySearch\n    [][][][]\\\n    =============================================================================================*/\n    // #region FamilySearch Redirect\n\n    /**\n     * Opens up a new tab to the FamilySearch person page.\n     * Differs from viewInFamilySearchTab() in that the API docs say that eventually it might not require the user to reauthenticate.\n     * @param pid \n     */\n    public openNewTabFamilySearchPerson(pid: PID): void{\n        window.open(\"https://api.familysearch.org/redirect?person=\" + pid + \"&access_token=\" + this.getAccessToken());\n    }\n\n    /**\n     * Opens up a new tab to the FamilySearch person page.\n     * Will definitely require the user to log in to FamilySearch again if they haven't already.\n     * @param pid \n     */\n    public viewInFamilySearchTab(pid: PID): void{\n        window.open(\"https://familysearch.org/tree/#view=ancestor&person=\" + pid);\n    }\n    // #endregion\n}\n// #endregion\n\n\n/*=============================================================================================\n[][][][]/\n[][][][]    FamilySearchX Tree Parsing\n[][][][]\\\n=============================================================================================*/\n// #region FSX Tree Parsing\n\n/**\n * FamilySearch currently ships descendancy data with a list of people only connected by a\n * descendancyNumber field in their display properties.\n * The descendancyNumber is currently a d'Aboville number.\n * The FSXdAbovilleData type represents that number in its more useful components\n */\ntype FSXdAbovilleData = {\n    parentA: string,\n    parentB: string,\n    spouse: string,\n    subject: string,\n    generation: number;\n}\n\n/**\n * FamilySearch currently ships descendancy data with a list of people only connected by a\n * descendancyNumber field in their display properties.\n * The descendancyNumber is currently a d'Aboville number.\n * The FSXdAbovilleParser class provides functionality for converting between the string\n * provided and a parsed data object with easy reference to the d'Aboville numbers for parents and the default spouse.\n */\nclass FSXdAbovilleParser{\n    protected parts: string[];\n    constructor(){}\n\n    /**\n     * Extracts relevant data from a descendancy number\n     * @param daboId the d'Aboville identifier for a particular person within a tree.\n     */\n    static getData(daboId: string): FSXdAbovilleData{\n        let parts = daboId.split(\".\");\n        const out: FSXdAbovilleData = {\n            parentA: \"\",\n            parentB: \"\",\n            spouse: \"\",\n            subject: parts.join(\".\"),\n            generation: parts.length - 1\n        }\n\n        // Calculate Spouse\n        out.spouse = parts.slice(0, -1).join(\".\") + (parts.length > 1 ? \".\" : \"\") + this.toggleSpouse(parts[parts.length - 1]);\n        const last = parts[parts.length - 1];\n        parts = parts.slice(0, -1);\n\n        if(parts.length && !this.isSpouse(last)){\n            if(this.isSpouse(parts[parts.length - 1])){\n                out.parentA = parts.slice(0, -1).join(\".\") + (parts.length > 1 ? \".\" : \"\") + this.toggleSpouse(parts[parts.length - 1]);\n                out.parentB = parts.join(\".\");\n            }\n            else{\n                out.parentA = parts.join(\".\");\n                out.parentB = parts.slice(0, -1).join(\".\") + (parts.length > 1 ? \".\" : \"\") + this.toggleSpouse(parts[parts.length - 1]);\n            }\n        }\n        return out;\n    }\n\n    public static isSpouse(target: string){\n        return(target.indexOf(\"-S\") !== -1);\n    }\n\n    public static toggleSpouse(target: string): string{\n        if(!this.isSpouse(target)){\n            return target + \"-S\";\n        }\n        else{\n            return target.split(\"-S\")[0];\n        }\n    }\n}\n\nabstract class FSXPedigreeBuilder{\n    protected cache: {[k:string]: FSPerson}\n    constructor(protected fsx: FamilySearchX, protected pid: PID, protected generations: number){\n        if(generations > this.getMaxRecommendedGenerations()){\n            console.error(\"You requested downloading\", this.generations, \"generations of data. This may take a while.\");\n        }\n        this.cache = {};\n    }\n    \n    public run(): Promise<{root: PID, people: FSPerson[]}>{\n        let allPeople: FSPerson[] = [];\n        return new Promise((resolve: Function, reject: Function) => {\n            let leavesOutStanding: number = 0;\n            let runStep = (pid: PID, generationsRemaining: number) => {\n\n                // console.log(\"Step:\", generationsRemaining);\n                let nextSet: number = Math.min(generationsRemaining, this.getMaxGenerations());\n                leavesOutStanding++;\n\n                this.runGenerations(pid, nextSet).then((data: {allPeople: FSPerson[], leafIds: PID[]}) => {\n                    generationsRemaining -= nextSet;\n                    allPeople = allPeople.concat(data.allPeople);\n                    if(--leavesOutStanding === 0){\n                        resolve({\n                            root: this.pid,\n                            people: allPeople\n                        });\n                        return;\n                    }\n                    if(generationsRemaining !== 0 && data.leafIds.length != 0){\n                        data.leafIds.forEach((leaf: PID) => {\n                            runStep(leaf, generationsRemaining);\n                        });\n                    }\n                },\n                (rejection: any) => {\n                    reject(rejection);\n                });\n            }\n            runStep(this.pid, this.generations);\n        });\n    }\n\n    /**\n     * Descendancy data does not ship with relationship references. We're going to add them, so we\n     * generate the appropriate arrays in the display properties.\n     * @param person \n     */\n    protected addRelationshipArrays(person: FSPerson): void{\n        if(!person.display.familiesAsParent){\n            person.display.familiesAsParent = [];\n        }\n        if(!person.display.familiesAsChild){\n            person.display.familiesAsChild = [];\n        }\n    }\n\n    /**\n     * Adds a child for a person under a particular spouse.\n     * @param subject The person receiving a child\n     * @param spouseId The ID of the other parent of the child\n     * @param childId The PID of the child\n     */\n    protected addChild(subject:FSPerson, spouseId: PID, childId: PID){\n        let spouseView: FSFamilyView;\n        const childObject: FSResourceReference = {\n            resource: \"FSXChildof-\" + subject.id + \",\" + spouseId + \":\" + childId,\n            resourceId: childId\n        }\n        if(!subject.display.familiesAsParent.some((view: FSFamilyView) => {\n            if(view.parent1.resourceId === subject.id || view.parent2.resourceId === subject.id){\n                spouseView = view;\n                if(!view.children.some((ref: FSResourceReference) => {\n                    return ref.resourceId === childId\n                })){\n                    view.children.push(childObject);\n                }\n                return true;\n            }\n            return false;\n        })){\n            spouseView = new FSFamilyView();\n            spouseView.links = {};\n            spouseView.id = \"FSXFamilyViewof-\" + subject.id + \",\" + spouseId;\n            spouseView.parent1 = {\n                resource: \"FSXSpouseof-\" + subject.id + \":\" + spouseId,\n                resourceId: subject.id\n            };\n            spouseView.parent2 = {\n                resource: \"FSXSpouseof-\" + spouseId + \":\" + subject.id,\n                resourceId: spouseId\n            };\n            spouseView.children = [\n                childObject\n            ];\n            subject.display.familiesAsParent.push(spouseView);\n        }\n    }\n\n    /**\n     * Adds a spouse to a person, creating a families as parent entry with the designated spouse.\n     * @param subject The person receiving a child\n     * @param spouseId The ID of the spouse\n     */\n    protected addSpouse(subject:FSPerson, spouseId: PID){\n        let spouseView: FSFamilyView;\n        if(!subject.display.familiesAsParent.some((view: FSFamilyView) => {\n            return (view.parent1.resourceId === spouseId || view.parent2.resourceId === spouseId);\n        })){\n            spouseView = new FSFamilyView();\n            spouseView.links = {};\n            spouseView.id = \"FSXFamilyViewof-\" + subject.id + \",\" + spouseId;\n            spouseView.parent1 = {\n                resource: \"FSXSpouseof-\" + subject.id + \":\" + spouseId,\n                resourceId: subject.id\n            };\n            spouseView.parent2 = {\n                resource: \"FSXSpouseof-\" + spouseId + \":\" + subject.id,\n                resourceId: spouseId\n            };\n            spouseView.children = [];\n            subject.display.familiesAsParent.push(spouseView);\n        }\n        // console.log(\"Added spouse:\", subject.id, spouseId, spouseView);\n    }\n\n    /**\n     * Adds a spouse to a person, creating a families as parent entry with the designated spouse.\n     * @param subject The person receiving a child\n     * @param spouseId The ID of the spouse\n     */\n    protected addParents(subject:FSPerson, parentAId: PID, parentBId: PID){\n        let spouseView: FSFamilyView;\n        const childReference: FSResourceReference = {\n            resource: \"FSXChildof-\" + parentAId + \",\" + parentBId + \":\" + subject.id,\n            resourceId: subject.id\n        };\n        if(!subject.display.familiesAsChild.some((view: FSFamilyView) => { // If there isn't already a view with these two parents\n            if(\n                (view.parent1.resourceId == parentAId && view.parent2.resourceId === parentBId) ||\n                (view.parent1.resourceId == parentBId && view.parent2.resourceId === parentAId)\n            ){ // If there is already a view with these two parents\n                if(!view.children.some((ref: FSResourceReference) => { // If they are not already included\n                    return(ref.resourceId === subject.id);\n                })){ // Then include them in this family\n                    view.children.push(childReference); \n                }\n                return true;\n            }\n            return false;\n        })){ // Then make one.\n            spouseView = new FSFamilyView();\n            spouseView.links = {};\n            spouseView.id = \"FSXFamilyViewof-\" + parentAId + \",\" + parentBId;\n            spouseView.parent1 = {\n                resource: \"FSXSpouseof-\" + parentAId + \":\" + parentBId,\n                resourceId: parentAId\n            };\n            spouseView.parent2 = {\n                resource: \"FSXSpouseof-\" + parentBId + \":\" + parentAId,\n                resourceId: parentBId\n            };\n            spouseView.children = [childReference];\n            subject.display.familiesAsChild.push(spouseView);\n        }\n        // console.log(\"Added parents:\", subject.id, parentAId, parentBId);\n    }\n\n    public abstract getMaxGenerations(): number;\n    public abstract getMaxRecommendedGenerations(): number;\n    protected abstract runGenerations(pid: PID, generations: number):Promise<{allPeople: FSPerson[], leafIds: PID[]}>;\n}\n\nclass FSXDescendancyBuilder extends FSXPedigreeBuilder{\n    public static readonly MAX_GENERATIONS_PER_CALL = 2;\n    public static readonly MAX_GENERATIONS_RECOMMENDED = 5;\n\n    public getMaxGenerations(): number{\n        return FSXDescendancyBuilder.MAX_GENERATIONS_PER_CALL;\n    }\n\n    public getMaxRecommendedGenerations(): number{\n        return FSXDescendancyBuilder.MAX_GENERATIONS_RECOMMENDED;\n    }\n\n    protected runGenerations(pid: PID, generations: number):Promise<{allPeople: FSPerson[], leafIds: PID[]}>{\n        return new Promise((resolve: Function, reject: Function) => {\n            this.fsx.getPersonWithDescendancy(this.pid, (error: any, response: FSResponse) => {\n                if(error){\n                    reject(error);\n                    return;\n                }\n                if(!!response.data){ // Check for JSON data.\n                    resolve(this.connectDescendancyData(response.data.persons, generations));\n                    return;\n                }\n                resolve();\n            }, generations, \"\", true, true);\n        });\n    }\n\n    /**\n     * Given a group of people, it will attach the PID's of linked family members to the people,\n     * creating a tree that is more intuitive than using the d'Aboville numbers.\n     * @param people \n     */\n    private connectDescendancyData(people: FSPerson[], generations: number): {allPeople: FSPerson[], leafIds: PID[]}{\n        let leaves: PID[] = [];\n        let descMap: {[k: string]: PID} = {};\n\n        // Cache, fill out the relationship areas, and store the descendancyNumber;\n        people.forEach((subject: FSPerson) => {\n            if(!this.cache[subject.id]){\n                this.cache[subject.id] = subject;\n            }\n            this.addRelationshipArrays(subject);\n            descMap[subject.display.descendancyNumber] = subject.id;\n        });\n\n        let data: FSXdAbovilleData,\n            parentAId: PID,\n            parentBId: PID,\n            spouseId: PID,\n            parentA: FSPerson,\n            parentB: FSPerson,\n            spouse: FSPerson;\n        let i = 0;\n        people.forEach((subject: FSPerson) => {\n            data = FSXdAbovilleParser.getData(subject.display.descendancyNumber); // Get the d'Aboville parsing\n            if(data.generation === generations){\n                leaves.push(subject.id);\n            }\n\n            parentAId = descMap[data.parentA];\n            parentBId = descMap[data.parentB];\n            spouseId = descMap[data.spouse];\n\n            if(!!parentAId){ // If the first parent exists, add this person as a child\n                parentA = this.cache[parentAId];\n                this.addChild(parentA, parentBId, subject.id);\n            }\n            if(!!parentBId){ // If the second parent exists, add this person as a child\n                parentB = this.cache[parentBId];\n                this.addChild(parentB, parentAId, subject.id);\n            }\n            if(!!parentAId || !!parentBId){ // If either parent exists, add them\n                this.addParents(subject, parentAId, parentBId);\n            }\n            if(!!spouseId){ // If the spouse exists, add them as a spouse.\n                spouse = this.cache[spouseId];\n                this.addSpouse(subject, spouseId);\n            }\n        });\n\n        return {\n            allPeople: people,\n            leafIds: leaves\n        };\n    }\n\n}\n\nclass FSXAncestryBuilder extends FSXPedigreeBuilder{\n    public static readonly MAX_GENERATIONS_PER_CALL = 8;\n    public static readonly MAX_GENERATIONS_RECOMMENDED = 16;\n\n    public getMaxGenerations(): number{\n        return FSXAncestryBuilder.MAX_GENERATIONS_PER_CALL;\n    }\n\n    public getMaxRecommendedGenerations(): number{\n        return FSXAncestryBuilder.MAX_GENERATIONS_RECOMMENDED;\n    }\n\n    protected runGenerations(pid: PID, generations: number):Promise<{allPeople: FSPerson[], leafIds: PID[]}>{\n        return new Promise((resolve: Function, reject: Function) => {\n            this.fsx.getPersonWithAncestry(this.pid, (error: any, response: FSResponse) => {\n                if(error){\n                    reject(error);\n                    return;\n                }\n                if(!!response.data){ // Check for JSON data.\n                    resolve(this.connectAncestryData(response.data.persons, generations));\n                    return;\n                }\n                resolve();\n            }, generations, \"\", true, false, true);\n        });\n    }\n\n    private connectAncestryData(people: FSPerson[], generations: number){\n        let leaves: PID[] = [];\n        let ahnenMap: {[k: string]: PID} = {};\n\n        // Cache, fill out the relationship areas, and store the descendancyNumber;\n        people.forEach((subject: FSPerson) => {\n            if(!this.cache[subject.id]){\n                this.cache[subject.id] = subject;\n            }\n            this.addRelationshipArrays(subject);\n            ahnenMap[subject.display.ascendancyNumber] = subject.id;\n        });\n\n        let ahnen: string,\n            ahnenNumber: number,\n            parentAAhnen: string,\n            parentBAhnen: string,\n            spouseAhnen: string,\n            parentAId: PID,\n            parentBId: PID,\n            spouseId: PID,\n            parentA: FSPerson,\n            parentB: FSPerson,\n            spouse: FSPerson;\n        let i = 0;\n\n        people.forEach((subject: FSPerson) => {\n            ahnen = subject.display.ascendancyNumber;\n            if(FSXdAbovilleParser.isSpouse(ahnen)){\n                let spouseAhnen = FSXdAbovilleParser.toggleSpouse(ahnen);\n                this.addSpouse(subject, spouseAhnen);\n                this.addSpouse(this.cache[ahnenMap[spouseAhnen]], ahnen);\n                return;\n            }\n\n            ahnenNumber = parseInt(ahnen);\n            parentAId = ahnenMap[ahnenNumber * 2];\n            parentBId = ahnenMap[ahnenNumber * 2 + 1];\n            spouseId = ahnenMap[FSXdAbovilleParser.toggleSpouse(ahnen)];\n\n            if(!!parentAId){ // If the first parent exists, add this person as a child\n                parentA = this.cache[parentAId];\n                this.addChild(parentA, parentBId, subject.id);\n            }\n            if(!!parentBId){ // If the second parent exists, add this person as a child\n                parentB = this.cache[parentBId];\n                this.addChild(parentB, parentAId, subject.id);\n            }\n            if(!!parentAId || !!parentBId){ // If either parent exists, add them\n                this.addParents(subject, parentAId, parentBId);\n            }\n            else if(ahnenNumber >= (i = Math.pow(2, generations)) && ahnenNumber < 2 * i){\n                leaves.push(subject.id);\n            }\n            if(!!spouseId){ // If the spouse exists, add them as a spouse.\n                spouse = this.cache[spouseId];\n                this.addSpouse(subject, spouseId);\n            }\n        });\n\n        return {\n            allPeople: people,\n            leafIds: leaves\n        };\n    }\n}\n\n\n// #endregion","/*\\\n|*|\n|*|  :: cookies.js ::\n|*|\n|*|  A complete cookies reader/writer framework with full unicode support.\n|*|\n|*|  Revision #3 - July 13th, 2017\n|*|\n|*|  https://developer.mozilla.org/en-US/docs/Web/API/document.cookie\n|*|  https://developer.mozilla.org/User:fusionchess\n|*|  https://github.com/madmurphy/cookies.js\n|*|\n|*|  This framework is released under the GNU Public License, version 3 or later.\n|*|  http://www.gnu.org/licenses/gpl-3.0-standalone.html\n|*|\n|*|  Syntaxes:\n|*|\n|*|  * docCookies.setItem(name, value[, end[, path[, domain[, secure]]]])\n|*|  * docCookies.getItem(name)\n|*|  * docCookies.removeItem(name[, path[, domain]])\n|*|  * docCookies.hasItem(name)\n|*|  * docCookies.keys()\n|*|\n\\*/\n\nexport var docCookies = {\n    getItem: function (sKey) {\n      if (!sKey) { return null; }\n      return decodeURIComponent(document.cookie.replace(new RegExp(\"(?:(?:^|.*;)\\\\s*\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"), \"$1\")) || null;\n    },\n    setItem: function (sKey, sValue, vEnd?, sPath?, sDomain?, bSecure?) {\n      if (!sKey || /^(?:expires|max\\-age|path|domain|secure)$/i.test(sKey)) { return false; }\n      var sExpires = \"\";\n      if (vEnd) {\n        switch (vEnd.constructor) {\n          case Number:\n            sExpires = vEnd === Infinity ? \"; expires=Fri, 31 Dec 9999 23:59:59 GMT\" : \"; max-age=\" + vEnd;\n            /*\n            Note: Despite officially defined in RFC 6265, the use of `max-age` is not compatible with any\n            version of Internet Explorer, Edge and some mobile browsers. Therefore passing a number to\n            the end parameter might not work as expected. A possible solution might be to convert the the\n            relative time to an absolute time. For instance, replacing the previous line with:\n            */\n            /*\n            sExpires = vEnd === Infinity ? \"; expires=Fri, 31 Dec 9999 23:59:59 GMT\" : \"; expires=\" + (new Date(vEnd * 1e3 + Date.now())).toUTCString();\n            */\n            break;\n          case String:\n            sExpires = \"; expires=\" + vEnd;\n            break;\n          case Date:\n            sExpires = \"; expires=\" + vEnd.toUTCString();\n            break;\n        }\n      }\n      let cookie = encodeURIComponent(sKey) + \"=\" + encodeURIComponent(sValue) + sExpires + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\") + (bSecure ? \"; secure\" : \"\");\n      document.cookie = cookie;\n      return true;\n    },\n    removeItem: function (sKey, sPath?, sDomain?) {\n      if (!this.hasItem(sKey)) { return false; }\n      document.cookie = encodeURIComponent(sKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT\" + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\");\n      return true;\n    },\n    hasItem: function (sKey) {\n      if (!sKey || /^(?:expires|max\\-age|path|domain|secure)$/i.test(sKey)) { return false; }\n      return (new RegExp(\"(?:^|;\\\\s*)\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(document.cookie);\n    },\n    keys: function () {\n      var aKeys = document.cookie.replace(/((?:^|\\s*;)[^\\=]+)(?=;|$)|^\\s*|\\s*(?:\\=[^;]*)?(?:\\1|$)/g, \"\").split(/\\s*(?:\\=[^;]*)?;\\s*/);\n      for (var nLen = aKeys.length, nIdx = 0; nIdx < nLen; nIdx++) { aKeys[nIdx] = decodeURIComponent(aKeys[nIdx]); }\n      return aKeys;\n    }\n  };","module.exports = \".section-title {\\n    padding-left: 14px;\\n    font-family: Arial, Helvetica, sans-serif;\\n    font-weight: lighter;\\n    color: white;\\n    margin: 0;\\n    font-size: 22px;\\n}\\n\\n.fhtl-link {\\n    color: white;\\n    font-size: 14px;\\n    text-decoration: none;\\n}\\n\\n.fhtl-link:hover {\\n    text-decoration: underline;\\n}\\n\\n.section-holder {\\n    display: flex;\\n    justify-content: center;\\n    background-color: #3f51b5;\\n    padding: 30px;\\n    margin-top: calc(100vh);\\n}\\n\\n.column {\\n    display: block;\\n    padding: 0px 30px;\\n}\\n\\n.link-item {\\n    height: 30px !important;\\n}\\n\\n@media screen and (max-width: 800px) {\\n    .section-holder {\\n        display: block;\\n    }\\n    .column {\\n        padding-bottom: 20px;\\n        width: 50%;\\n        display: inline-block;\\n        box-sizing: border-box;\\n    }\\n}\\n\\n@media screen and (max-width: 620px) {\\n    .section-holder {\\n        display: block;\\n    }\\n    .column {\\n        padding-bottom: 20px;\\n        display: block;\\n        margin: auto;\\n        width: 250px; /*This number is semi-hardcoded, but works*/\\n    }\\n    .link-item {\\n        height: 24px !important;\\n    }\\n}\"","module.exports = \"<!--<mat-grid-list cols=\\\"{{footer.length}}\\\">\\n  \\n  <mat-grid-tile class=\\\"links\\\" *ngFor=\\\"let section of footer\\\">\\n    \\n    <h1>{{section.title}}</h1>\\n\\n    <mat-list>\\n      <mat-list-item *ngFor=\\\"let link of section.links\\\">\\n        <a href=\\\"{{link.href}}\\\" class=\\\"fhtl-link\\\">{{link.name}}</a>  \\n      </mat-list-item>\\n    </mat-list>\\n  \\n  </mat-grid-tile>\\n  \\n</mat-grid-list>\\n-->\\n\\n<div class=\\\"section-holder\\\">\\n\\n  <div class=\\\"column\\\" *ngFor=\\\"let section of footer\\\">\\n    <h1 class=\\\"section-title\\\">{{section.title}}</h1>\\n\\n    <mat-list dense>\\n      <mat-list-item class=\\\"link-item\\\" *ngFor=\\\"let link of section.links\\\">\\n        <a href=\\\"{{link.href}}\\\" target=\\\"_blank\\\" class=\\\"fhtl-link\\\">{{link.name}}</a>  \\n      </mat-list-item>\\n    </mat-list>\\n  </div>\\n\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { LinkService } from '../link.service';\n\n\ndeclare type section = {\n  title: string,\n  links: {\n    href: string,\n    name: string\n  }[]\n}\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.css']\n})\nexport class FooterComponent implements OnInit {\n\n  public footer: section[];\n\n  constructor(private links: LinkService) {\n    this.footer = [\n      {\n        title: 'Support Fhtl',\n        links: [\n          {\n            href: links.FHTL.home,\n            name: 'Home'\n          },\n          {\n            href: links.FHTL.contact, \n            name: 'Contact'\n          },\n          {\n            href: links.FHTL.people, \n            name: 'People'\n          },\n          {\n            href: links.FHTL.donate,\n            name: 'Donate'\n          }\n        ]\n      },\n      {\n        title: 'Research',\n        links: [\n          {\n            href: links.FHTL.relativeFinder,\n            name: 'Relative Finder'\n          },\n          {\n            href: links.FHTL.virtualPedigreee, \n            name: 'Virtual Pedigree'\n          },\n          {\n            href: links.FHTL.descendancyExplorer,\n            name: 'Descendancy Explorer'\n          },\n          {\n            href: links.FHTL.treeSweeper, \n            name: 'Tree Sweeper'\n          } //TODO add brownie in the future\n        ]\n      },\n      {\n        title: 'Visualize',\n        links: [\n          {\n            href: links.FHTL.pedigreePie,\n            name: 'Pedigree Pie'\n          },\n          {\n            href: links.FHTL.onePageGenealogy, \n            name: 'One Page Genealogy'\n          },\n          {\n            href: links.FHTL.familyCalendar,\n            name: 'Family Calendar'\n          }\n        ]\n      },\n      {\n        title: 'Play',\n        links: [\n          {\n            href: links.FHTL.geneopardy,\n            name: 'Geneopardy'\n          },\n          {\n            href: links.FHTL.wheelOfFamilyFortune, \n            name: 'Wheel of Family Fortune'\n          },\n          {\n            href: links.FHTL.ancestorGames,\n            name: 'Ancestor Games'\n          },\n          {\n            href: links.FHTL.recordQuest, \n            name: 'Record Quest'\n          }\n        ]\n      }\n    ]\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpRequest } from '@angular/common/http';\nimport { LinkService } from './link.service';\nimport { Router } from '@angular/router';\nimport { UtilsService } from './utils.service';\nimport { FHTLX, FsSession } from './familySearchX/FHTLX';\nimport { HomeComponent } from './home/home.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FsService {\n\n  private isLoggedIn: boolean = false;\n\n  public FhtlX: FHTLX;\n\n  public fsSession: FsSession;\n\n  constructor(private http: HttpClient, private link: LinkService, private router: Router, private utils: UtilsService) {\n\n  }\n\n  verifyAuthReady() {\n    return this.http.get(this.link.getAuthRedirect(`${window.location.origin}/home`), {\n      responseType: 'text',\n      observe: 'response'\n    });\n  }\n\n  isAuthenticated(): boolean {\n    return true;\n  }\n\n  setLoggedIn(fsSession: FsSession): void {\n    this.FhtlX.readyAccessToken(fsSession);\n    this.link.setHomeLoggedIn();\n    this.isLoggedIn = true;\n  }\n\n  logIn(fstoken: string) {\n    this.fsSession = this.parseJwt(fstoken);\n    this.initFhtlX();\n    this.FhtlX.storeSession(this.fsSession);\n    this.setLoggedIn(this.fsSession);\n  }\n\n  initFhtlX(): void {\n    let initOptions: any = {\n      environment: 'production',\n      appKey: 'app Key :)',\n      redirectUri: 'Put your redirect uri here if you want',\n      saveAccessToken: true\n    }\n\n    this.FhtlX = new FHTLX(initOptions);\n  }\n\n  checkLoginStatus(): boolean {\n    this.fsSession = FHTLX.checkAccessToken();\n\n    if (!!this.fsSession) {\n      this.initFhtlX();\n      this.setLoggedIn(this.fsSession);\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  logOut() {\n    let loaderRef = this.utils.displayLoader('Logging out...', false);\n    loaderRef.afterClosed().subscribe(() => {\n      return this.router.navigate(['start']);\n    })\n    if (!this.FhtlX) {\n      loaderRef.close();\n      //return this.router.navigate(['start']);\n    } else {\n      return this.FhtlX.logout(() => {\n        this.FhtlX.deleteSession();\n        this.isLoggedIn = false;\n        this.link.logOut();\n        loaderRef.close();\n        //return this.router.navigate(['start']);\n      });\n    }\n  }\n\n  parseJwt(token: string): FsSession {\n    let base64Url = token.split('.')[1];\n    let base64 = base64Url.replace('-', '+').replace('_', '/');\n    return JSON.parse(window.atob(base64));\n  }\n\n\tgetData(pid: string, component:HomeComponent): void {\n    // this.FhtlX.getPersonDuplicateMatches(pid, (error, response) => {\n    //   if(error) console.log(error);\n    //   else {\n    //     console.log(response);\n    //     component.setData(response);\n    //   }\n    // }, true);\n\n    this.FhtlX.getPerson(pid, (error, response) => {\n      if(error) console.log(error);\n      else {\n        console.log(response);\n        component.setData(response);\n      }\n    });\n\n\n    // let url = '/platform/tree/persons/' + pid + '/matches?flag=fsh';\n    // // let url = '/tree/person/research-help/' + pid;\n    // // let url = '/platform/tree/persons/' + pid ;\n\n    // return this.FhtlX.get(url, (error, response) => {\n    //   if(error) console.log(error);\n    //   else {\n    //     // let json = JSON.stringify(response);\n    //     console.log(response);\n    //     component.setData(response);\n    //   }\n    // });\n\t}\n}\n","module.exports = \"\"","module.exports = \"<p>\\n  help works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-help',\n  templateUrl: './help.component.html',\n  styleUrls: ['./help.component.css']\n})\nexport class HelpComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<mat-card align=\\\"center\\\" class=\\\"welcome-card\\\">\\n\\t\\t<div>\\n\\t\\t\\t<h2 class=\\\"welcome-title\\\">Send Auth to Server</h2>\\n\\t\\t\\t<label>Output Filename</label>\\n\\t\\t\\t<input type=\\\"text\\\" name=\\\"input_filename\\\" [(ngModel)]=\\\"filename\\\" />\\n\\t\\t\\t<button (click)=\\\"signalServer()\\\">IT BEGINS</button><br>\\n\\t\\t</div>\\n\\n    <div>\\n      <h2 class=\\\"welcome-title\\\">PID Processing</h2>\\n\\t\\t\\t<p>Enter a PID to get information about that person.</p>\\n\\t\\t</div>\\n\\n\\t\\t<div>\\n\\t\\t\\t<input type=\\\"text\\\" name=\\\"input_pid\\\" [(ngModel)]=\\\"pid\\\"/>\\n\\t\\t\\t<button (click)=\\\"processPid()\\\">Submit</button> <br>\\n\\t\\t\\t<pre style=\\\"text-align: left\\\">{{data | json}}</pre>\\n\\t\\t</div>\\n      \\n</mat-card>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { FsService } from '../fs.service';\nimport { HttpClient } from '@angular/common/http';\nimport { HttpHeaders } from '@angular/common/http';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  public sampleData: any[];\n\tprivate pid:string;\n  private data:any;\n  private filename:string;\n\n  constructor(private fsService: FsService, private http:HttpClient) { \n    this.getSampleFsData();\n    this.pid = \"\";\n    this.filename = \"default\";\n  }\n\n  getSampleFsData() {\n    this.fsService.FhtlX.getPersonAncestry(this.fsService.fsSession.fs_user.pid, (error: any, data: any[]) => {\n      console.log(\"Ancestry:\", data);\n      this.sampleData = data;\n    }, 4);\n  }\n\n\tprocessPid(){\n\t\tconsole.log(\"clicked, processing pid \" + this.pid);\n\t\tthis.fsService.getData(this.pid, this);\n  }\n  \n  setData(data:any){\n    this.data = data;\n  }\n\n  signalServer(){\n    console.log(\"what have you done\");\n    let authtoken:string = this.fsService.fsSession.fs_access_token;\n    console.log(\"authtoken: [\" + authtoken + \"]\");\n    let filename:string = this.filename.trim();\n    filename = filename.concat(\".csv\");\n    console.log(\"filename: [\" + filename + \"]\");\n    const options = {\n      headers: new HttpHeaders({\n        \"Authorization\": authtoken,\n        \"Output\": filename\n      })\n    };\n    let url = \"generate\";\n    let request = this.http.get(url, options);\n    request.subscribe((data:any) => {\n      console.log(data);\n    }, (error) => {\n      console.log(\"ERROR: \" + JSON.stringify(error, null, 2));\n    });\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LinkService {\n\n  public readonly FHTL = {\n    auth: 'https://auth.fhtl.byu.edu',\n    home: 'https://fhtl.byu.edu',\n    contact: 'https://fhtl.byu.edu/contact.html',\n    donate: 'https://fhtl.byu.edu/donate.html',\n    people: 'https://fhtl.byu.edu/people.html',\n    relativeFinder: 'https://www.relativefinder.org',\n    virtualPedigreee: 'http://virtual-pedigree.fhtl.byu.edu',\n    descendancyExplorer: 'http://descend.fhtl.byu.edu',\n    treeSweeper: 'https://beta.treesweeper.fhtl.byu.edu',\n    brownie: 'https://fhtl.byu.edu/apps/brownie.html', //TODO change once brownie is actually released\n    pedigreePie: 'http://pedigree-pie.fhtl.byu.edu',\n    onePageGenealogy: 'http://opg.fhtl.byu.edu',\n    familyCalendar: 'https://calendar.fhtl.byu.edu',\n    geneopardy: 'https://geneopardy.fhtl.byu.edu',\n    wheelOfFamilyFortune: 'https://wheel.fhtl.byu.edu',\n    ancestorGames: 'https://ancestorgames.fhtl.byu.edu',\n    recordQuest: 'https://recordquest.fhtl.byu.edu',\n  }\n\n  public readonly FS: string = 'https://www.familysearch.org/'\n\n  public readonly APP_NAME: string = 'Angular Template';\n\n  private home: string = 'start';\n\n  public mainMenu = [\n    {name: 'Home', href: 'home', icon: 'home'},\n    {name: 'Help', href: 'help', icon: 'help'},\n    {name: 'Contact', href: 'https://fhtl.byu.edu/contact.html', icon: 'contact_mail'},\n    //{name: 'About', href: 'about'},\n  ];\n\n  constructor() { }\n\n  getHome(): string {\n    return this.home;\n  }\n\n  setHomeLoggedIn(): void {\n    this.home = 'home';\n    this.mainMenu.push({\n      name: 'Logout',\n      href: 'logout',\n      icon: 'supervised_user'\n    });\n  }\n\n  logOut() {\n    this.mainMenu.pop();\n    this.home = 'start';\n  }\n\n  /**\n   * \n   * @param redirect the url to return to upon signing in. Defaults to the current url \n   */\n  public getAuthRedirect(redirect = window.location.href): string {\n    return `${this.FHTL.auth}?redirect=${redirect}`;\n  }\n}\n","module.exports = \".message {\\n    font-family: Arial, Helvetica, sans-serif;\\n    font-size: 0.9rem;\\n    font-weight: bold;\\n}\"","module.exports = \"<mat-dialog-content>\\n  <mat-grid-list cols=\\\"2\\\">\\n    <mat-grid-tile>\\n      <mat-spinner [diameter]=\\\"50\\\"></mat-spinner>\\n    </mat-grid-tile>\\n    <mat-grid-tile>\\n      <p class=\\\"message\\\">{{data.message}}</p>\\n    </mat-grid-tile>\\n  </mat-grid-list>\\n</mat-dialog-content>\\n\"","import { Component, Inject, OnInit } from '@angular/core';\nimport {MAT_DIALOG_DATA} from '@angular/material';\n\n@Component({\n  selector: 'app-loader',\n  templateUrl: './loader.component.html',\n  styleUrls: ['./loader.component.css']\n})\nexport class LoaderComponent implements OnInit {\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any) {\n    \n  }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"\"","module.exports = \"\\n\"","import { Component, OnInit } from '@angular/core';\nimport { FsService } from '../fs.service';\n\n@Component({\n  selector: 'app-logout',\n  templateUrl: './logout.component.html',\n  styleUrls: ['./logout.component.css']\n})\nexport class LogoutComponent implements OnInit {\n\n  constructor(private fsService: FsService) {\n    this.fsService.logOut();\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule, MatToolbarModule,\n\t\t MatInputModule, MatProgressSpinnerModule, \n\t\t MatCardModule, MatIconModule,\n\t\t MatSidenavModule, MatMenuModule, MatDialogModule, MatGridListModule, MatList, MatListModule} from '@angular/material';\n\n@NgModule({\n  imports: [MatButtonModule, MatToolbarModule, MatInputModule, \n  \t\t\tMatProgressSpinnerModule, MatCardModule, MatIconModule, \n\t\t\tMatSidenavModule, MatMenuModule, MatDialogModule, MatGridListModule,\n\t\t\tMatListModule],\n  exports: [MatButtonModule, MatToolbarModule, MatInputModule, \n  \t\t\tMatProgressSpinnerModule, MatCardModule, MatIconModule, \n\t\t\tMatSidenavModule, MatMenuModule, MatDialogModule, MatGridListModule,\n\t\t\tMatListModule],\n})\nexport class MaterialModule { }","module.exports = \"\"","module.exports = \"<p>\\n  session-expired works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-session-expired',\n  templateUrl: './session-expired.component.html',\n  styleUrls: ['./session-expired.component.css']\n})\nexport class SessionExpiredComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \".welcome-card {\\n    font-family: Arial, Helvetica, sans-serif;\\n    font-weight: lighter;\\n}\\n\\n.welcome-title {\\n    font-weight: lighter;\\n}\\n\\n.app-description {\\n    max-width: 80%;\\n    display: block;\\n    margin: auto;\\n}\\n\\n.partner-section {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    margin-top: 30px;\\n}\\n\\n.partner-logo {\\n    width: 120px;\\n    text-align: center;\\n    padding: 0px 20px;\\n}\\n\\n.login-button {\\n    width: 250px;\\n    max-width: 100%;\\n}\\n\\n.button-border {\\n    padding: 30px;\\n}\\n\\n@media screen and (min-width: 1100px) {\\n    .welcome-card {\\n        max-width: 1000px;\\n        margin: 20px auto;\\n    }\\n}\"","module.exports = \"<mat-card align=\\\"center\\\" class=\\\"welcome-card\\\">\\n  <div>\\n    <h2 class=\\\"welcome-title\\\">Welcome to {{link.APP_NAME}}!</h2>\\n    <p class=\\\"app-description\\\">{{appDescription}}</p>\\n  </div>\\n  <div align=\\\"center\\\" class=\\\"button-border\\\">\\n    <button class=\\\"login-button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"doLogin()\\\">Login With FamilySearch</button>\\n  </div>\\n\\n  <hr class=\\\"thin-hr\\\">\\n\\n  <div class=\\\"partner-section\\\">\\n      <img *ngFor=\\\"let img of partnerLogos\\\" class=\\\"partner-logo\\\" src=\\\"{{img}}\\\">    \\n  </div>\\n</mat-card>\\n  \"","import { Component, OnInit } from '@angular/core';\nimport { UtilsService } from '../utils.service';\nimport { FsService } from '../fs.service';\nimport { LinkService } from '../link.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-start',\n  templateUrl: './start.component.html',\n  styleUrls: ['./start.component.css']\n})\nexport class StartComponent implements OnInit {\n\n  public appDescription: string;\n  public partnerLogos: string[];\n\n  constructor(private utilsService: UtilsService, private fsService: FsService, public link: LinkService) {\n    this.appDescription = \"Lorem ipsum dolor sit amet, mucius dolorem quaerendum vix ut, mei graeco discere definitiones in. Legendos maluisset te qui, id timeam fierent reprehendunt usu. In modus ubique pro, est saepe delectus laboramus an, mei ea tantas consulatu. Id detraxit gloriatur vim.\";\n    this.partnerLogos = [\n      '../../assets/icons/cs-logo.png',\n      '../../assets/icons/fhtl.png',\n      //'../../assets/icons/fs-logo.png' Uncomment once app is fs certified\n    ];\n  }\n\n  ngOnInit() {\n    \n  }\n\n  doLogin() {\n    let dialogRef = this.utilsService.displayLoader(\"Please wait...\", false);\n\n    this.fsService.verifyAuthReady().subscribe((res) => {\n      dialogRef.close();\n      console.debug(res);\n      window.location.href = res.url;\n    }, (err) => {\n      dialogRef.close();\n      console.error(err);\n    });\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { LoaderComponent } from './loader/loader.component';\nimport { Overlay } from '@angular/cdk/overlay';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UtilsService {\n\n  constructor(private dialog: MatDialog, private overlay: Overlay) { }\n\n  displayLoader(message?: string, autoclose = true, duration = 2000): MatDialogRef<LoaderComponent, any> {\n    let dialogRef = this.dialog.open(LoaderComponent, {\n      data: { message: message },\n      minHeight: '80px',\n      minWidth: '230px',\n      scrollStrategy: this.overlay.scrollStrategies.block()\n    });\n\n    if(autoclose) {\n      setTimeout(() => {\n        dialogRef.close();\n      }, duration)\n    } else {\n      return dialogRef; \n    }\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}